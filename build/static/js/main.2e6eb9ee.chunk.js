(this["webpackJsonpreact-simple-user-list-page"]=this["webpackJsonpreact-simple-user-list-page"]||[]).push([[0],{13:function(e,t,r){},14:function(e,t,r){},15:function(e,t,r){"use strict";r.r(t);var a=r(0),s=r.n(a),o=r(7),n=r.n(o),l=(r(13),r(2)),i=r(3),c=r(1),u=r(5),d=r(4),h=(r(14),function(e){Object(u.a)(r,e);var t=Object(d.a)(r);function r(){return Object(l.a)(this,r),t.apply(this,arguments)}return Object(i.a)(r,[{key:"render",value:function(){return s.a.createElement("div",{className:"Header"},s.a.createElement("h1",null,"Qoala Test"),s.a.createElement("div",{className:"Action"},s.a.createElement("select",{onChange:this.props.changeSortingMethod},s.a.createElement("option",{value:"ASC"},"Sort ASC"),s.a.createElement("option",{value:"DESC"},"Sort DESC")),s.a.createElement("button",{onClick:this.props.sortByColor},"Color"),s.a.createElement("button",{onClick:this.props.sortByCity},"Cities")))}}]),r}(s.a.Component)),m=function(e){Object(u.a)(r,e);var t=Object(d.a)(r);function r(e){return Object(l.a)(this,r),t.call(this,e)}return Object(i.a)(r,[{key:"getStyle",value:function(){var e,t=this.props.age;switch(!0){case t<21:e="#feb6cb";break;case t>56:e="#c3f4fe";break;default:e="#d5fed3"}return{backgroundColor:e}}},{key:"render",value:function(){return s.a.createElement("div",{className:"Card",style:this.getStyle()},s.a.createElement("div",{className:"Photo"},this.props.image&&s.a.createElement("img",{src:this.props.image,alt:this.props.fullName})),s.a.createElement("div",{className:"Fullname"},this.props.fullName),s.a.createElement("div",{className:"Age"},this.props.age," years old"),s.a.createElement("div",{className:"Order-reversed"},s.a.createElement("div",{className:"Address"},this.props.address),s.a.createElement("div",{className:"Email"},this.props.email)))}}]),r}(s.a.Component);m.defaultProps={image:null,fullName:null,age:null,address:null,email:null};var y=function(e){Object(u.a)(r,e);var t=Object(d.a)(r);function r(e){return Object(l.a)(this,r),t.call(this,e)}return Object(i.a)(r,[{key:"getCard",value:function(){var e=this.props.user,t=e.name,r=t.title+". "+t.first+" "+t.last,a=e.picture,o=e.dob,n=e.location,l=n.city+", "+n.state+", "+n.postcode,i=e.email;return s.a.createElement(m,{image:a.medium,fullName:r,age:o.age,address:l,email:i})}},{key:"render",value:function(){return this.getCard()}}]),r}(s.a.Component);y.defaultProps={gender:null,name:{title:null,first:null,last:null},location:{street:{number:null,name:null},city:null,state:null,country:null,postcode:null,coordinates:{latitude:null,longitude:null},timezone:{offset:null,description:null}},email:null,login:{uuid:null,username:null,password:null,salt:null,md5:null,sha1:null,sha256:null},dob:{date:null,age:null},registered:{date:null,age:null},phone:null,cell:null,id:{name:null,value:null},picture:{large:null,medium:null,thumbnail:null},nat:null};var p=function(e){Object(u.a)(r,e);var t=Object(d.a)(r);function r(e){var a;return Object(l.a)(this,r),(a=t.call(this,e)).getInitialUsers=function(){var e=window.sessionStorage.getItem("users");return e?JSON.parse(e):[]},a.compareAsc=function(e,t){switch(!0){case e<t:return-1;case e>t:return 1;default:return 0}},a.compareDesc=function(e,t){switch(!0){case e<t:return 1;case e>t:return-1;default:return 0}},a.state={users:a.getInitialUsers(),sort:"ASC"},a.loadUsers=a.loadUsers.bind(Object(c.a)(a)),a.scrollVertical=a.scrollVertical.bind(Object(c.a)(a)),a.scrollHorizontal=a.scrollHorizontal.bind(Object(c.a)(a)),a.sortByCity=a.sortByCity.bind(Object(c.a)(a)),a.sortByColor=a.sortByColor.bind(Object(c.a)(a)),a.compareColorAsc=a.compareColorAsc.bind(Object(c.a)(a)),a.compareCityAsc=a.compareCityAsc.bind(Object(c.a)(a)),a.compareColorDesc=a.compareColorDesc.bind(Object(c.a)(a)),a.compareCityDesc=a.compareCityDesc.bind(Object(c.a)(a)),a.changeSortingMethod=a.changeSortingMethod.bind(Object(c.a)(a)),a}return Object(i.a)(r,[{key:"componentDidMount",value:function(){this.state.users.length<=0&&this.loadUsers(),this.scrollVertical()}},{key:"showUsers",value:function(){var e=[];return this.state.users.forEach((function(t,r){e.push(s.a.createElement(y,{key:r,user:t}))})),e}},{key:"loadUsers",value:function(){var e=this;fetch("https://randomuser.me/api/?results=10").then((function(e){return e.json()})).then((function(t){console.log("data : ",t),e.setState({users:e.state.users.concat(t.results)}),window.sessionStorage.removeItem("users"),window.sessionStorage.setItem("users",JSON.stringify(e.state.users))}))}},{key:"scrollVertical",value:function(){var e=this;window.onscroll=function(){var t=window.innerHeight+window.scrollY>=document.body.offsetHeight;e.loadSrollEnd(t,!1)}}},{key:"scrollHorizontal",value:function(e){var t=e.target.scrollWidth===e.target.scrollLeft+e.target.clientWidth;setTimeout(this.loadSrollEnd(!1,t),1e3)}},{key:"loadSrollEnd",value:function(e,t){(e||t)&&this.state.users.length<100&&this.loadUsers()}},{key:"sortByCity",value:function(){"ASC"===this.state.sort?this.sortByCityAsc():this.sortByCityDesc()}},{key:"sortByCityAsc",value:function(){var e=this.state.users.sort(this.compareCityAsc);this.setState({users:e})}},{key:"sortByCityDesc",value:function(){var e=this.state.users.sort(this.compareCityDesc);this.setState({users:e})}},{key:"compareCityAsc",value:function(e,t){return this.compareAsc(e.location.city,t.location.city)}},{key:"sortByColor",value:function(){"ASC"===this.state.sort?this.sortByColorAsc():this.sortByColorDesc()}},{key:"compareCityDesc",value:function(e,t){return this.compareDesc(e.location.city,t.location.city)}},{key:"sortByColorAsc",value:function(){var e=this.state.users.sort(this.compareColorAsc);this.setState({users:e})}},{key:"sortByColorDesc",value:function(){var e=this.state.users.sort(this.compareColorDesc);this.setState({users:e})}},{key:"compareColorAsc",value:function(e,t){return this.compareAsc(this.getColorPriority(e.dob.age),this.getColorPriority(t.dob.age))}},{key:"compareColorDesc",value:function(e,t){return this.compareDesc(this.getColorPriority(e.dob.age),this.getColorPriority(t.dob.age))}},{key:"getColorPriority",value:function(e){var t=1,r=2,a=3,s=0;switch(!0){case e<21:s=a;break;case e>56:s=r;break;default:s=t}return s}},{key:"changeSortingMethod",value:function(e){this.setState({sort:e.target.value})}},{key:"render",value:function(){return s.a.createElement("div",{className:"App"},s.a.createElement(h,{sortByCity:this.sortByCity,sortByColor:this.sortByColor,changeSortingMethod:this.changeSortingMethod}),s.a.createElement("div",{className:"Cards",onScroll:this.scrollHorizontal},this.showUsers(),s.a.createElement("div",{className:"Clearfix"})))}}]),r}(s.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n.a.render(s.a.createElement(s.a.StrictMode,null,s.a.createElement(p,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},8:function(e,t,r){e.exports=r(15)}},[[8,1,2]]]);
//# sourceMappingURL=main.2e6eb9ee.chunk.js.map